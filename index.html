<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°˜ì‘ ì†ë„ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Pretendard', sans-serif;
            background-color: #2c3e50;
            color: white;
            transition: background-color 0.2s;
            user-select: none; /* ë“œë˜ê·¸ ë°©ì§€ */
        }
        #game-area {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }
        h1 { font-size: 3rem; margin: 0; }
        p { font-size: 1.5rem; }
        .record { margin-top: 20px; font-size: 1rem; opacity: 0.7; }
    </style>
</head>
<body>

    <div id="game-area">
        <h1 id="message">í´ë¦­í•´ì„œ ì‹œì‘í•˜ì„¸ìš”</h1>
        <p id="description">ì´ˆë¡ìƒ‰ì´ ë˜ë©´ ìµœëŒ€í•œ ë¹¨ë¦¬ í´ë¦­!</p>
        <div class="record" id="best-record">ìµœê³  ê¸°ë¡: - ms</div>
    </div>

    <script>
        const gameArea = document.getElementById('game-area');
        const message = document.getElementById('message');
        const description = document.getElementById('description');
        const bestRecordDisplay = document.getElementById('best-record');

        let status = 'waiting'; // waiting, ready, active
        let startTime;
        let timer;
        let bestRecord = Infinity;

        gameArea.addEventListener('mousedown', () => {
            if (status === 'waiting') {
                // ì‹œì‘ ëŒ€ê¸° ìƒíƒœ
                status = 'ready';
                gameArea.parentElement.style.backgroundColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰
                message.textContent = 'ì´ˆë¡ìƒ‰ì´ ë  ë•Œê¹Œì§€ ëŒ€ê¸°...';
                description.textContent = 'ë„ˆë¬´ ë¹¨ë¦¬ ëˆ„ë¥´ë©´ ë¬´íš¨!';

                const delay = Math.floor(Math.random() * 3000) + 2000; // 2~5ì´ˆ ëœë¤
                timer = setTimeout(() => {
                    status = 'active';
                    startTime = new Date().getTime();
                    gameArea.parentElement.style.backgroundColor = '#2ecc71'; // ì´ˆë¡ìƒ‰
                    message.textContent = 'ì§€ê¸ˆ í´ë¦­!!!';
                }, delay);

            } else if (status === 'ready') {
                // ë„ˆë¬´ ë¹¨ë¦¬ ëˆŒë €ì„ ë•Œ
                clearTimeout(timer);
                status = 'waiting';
                gameArea.parentElement.style.backgroundColor = '#2c3e50';
                message.textContent = 'ë„ˆë¬´ ë¹¨ëì–´ìš”! ğŸ˜‚';
                description.textContent = 'ë‹¤ì‹œ í•˜ë ¤ë©´ í´ë¦­í•˜ì„¸ìš”.';

            } else if (status === 'active') {
                // ì •ìƒì ìœ¼ë¡œ í´ë¦­í–ˆì„ ë•Œ
                const endTime = new Date().getTime();
                const reactionTime = endTime - startTime;
                status = 'waiting';
                gameArea.parentElement.style.backgroundColor = '#2c3e50';
                
                if (reactionTime < bestRecord) {
                    bestRecord = reactionTime;
                    bestRecordDisplay.textContent = `ìµœê³  ê¸°ë¡: ${bestRecord} ms`;
                }

                message.textContent = `${reactionTime} ms!`;
                description.textContent = 'ë‹¤ì‹œ í•˜ë ¤ë©´ í´ë¦­í•˜ì„¸ìš”.';
            }
        });
    </script>
</body>
</html>
